sudo: required

branches:
  only:
    - master
    - develop

notifications:
  email:
    on_success: never
    on_failure: always
  slack:
    rooms:
      - mystikweb:PXFBzS4uEnTzScjI1IlvmBcd#orleansdemo

jobs:
  include:
      - stage: build
        mono: none
        dotnet: 2.1.403
        language: csharp
        before_script:
          - chmod a+x ./build-solution.sh
        script: ./build-solution.sh
      - stage: "Docker Image Push"
        services:
          - docker
        before_script:
          - chmod a+x ./docker-push.sh
        script: ./docker-push.sh